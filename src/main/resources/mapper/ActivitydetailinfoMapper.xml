<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.ActivitydetailinfoMapper">
  <resultMap id="BaseResultMap" type="com.bean.Activitydetailinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <constructor>
      <idArg column="id" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="activitytitle" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="activitycontent" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="activityteacher" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="activitystarttime" javaType="java.util.Date" jdbcType="DATE" />
      <arg column="actitvityendtime" javaType="java.util.Date" jdbcType="DATE" />
      <arg column="activityprice" javaType="java.lang.Double" jdbcType="DOUBLE" />
      <arg column="activitylocation" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="activitystoptime" javaType="java.util.Date" jdbcType="DATE" />
      <arg column="mid" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="extended1" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended2" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended3" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended4" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended5" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended6" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended7" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended8" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended9" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended10" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended11" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended12" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended13" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended14" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended15" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended16" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended17" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended18" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended19" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended20" javaType="java.lang.String" jdbcType="VARCHAR" />
    </constructor>
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, activitytitle, activitycontent, activityteacher, activitystarttime, actitvityendtime, 
    activityprice, activitylocation, activitystoptime, mid, extended1, extended2, extended3, 
    extended4, extended5, extended6, extended7, extended8, extended9, extended10, extended11, 
    extended12, extended13, extended14, extended15, extended16, extended17, extended18, 
    extended19, extended20
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from activitydetailinfo
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from activitydetailinfo
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.bean.Activitydetailinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into activitydetailinfo (id, activitytitle, activitycontent, 
      activityteacher, activitystarttime, actitvityendtime, 
      activityprice, activitylocation, activitystoptime, 
      mid, extended1, extended2, 
      extended3, extended4, extended5, 
      extended6, extended7, extended8, 
      extended9, extended10, extended11, 
      extended12, extended13, extended14, 
      extended15, extended16, extended17, 
      extended18, extended19, extended20
      )
    values (#{id,jdbcType=INTEGER}, #{activitytitle,jdbcType=VARCHAR}, #{activitycontent,jdbcType=VARCHAR}, 
      #{activityteacher,jdbcType=VARCHAR}, #{activitystarttime,jdbcType=DATE}, #{actitvityendtime,jdbcType=DATE}, 
      #{activityprice,jdbcType=DOUBLE}, #{activitylocation,jdbcType=VARCHAR}, #{activitystoptime,jdbcType=DATE}, 
      #{mid,jdbcType=INTEGER}, #{extended1,jdbcType=VARCHAR}, #{extended2,jdbcType=VARCHAR}, 
      #{extended3,jdbcType=VARCHAR}, #{extended4,jdbcType=VARCHAR}, #{extended5,jdbcType=VARCHAR}, 
      #{extended6,jdbcType=VARCHAR}, #{extended7,jdbcType=VARCHAR}, #{extended8,jdbcType=VARCHAR}, 
      #{extended9,jdbcType=VARCHAR}, #{extended10,jdbcType=VARCHAR}, #{extended11,jdbcType=VARCHAR}, 
      #{extended12,jdbcType=VARCHAR}, #{extended13,jdbcType=VARCHAR}, #{extended14,jdbcType=VARCHAR}, 
      #{extended15,jdbcType=VARCHAR}, #{extended16,jdbcType=VARCHAR}, #{extended17,jdbcType=VARCHAR}, 
      #{extended18,jdbcType=VARCHAR}, #{extended19,jdbcType=VARCHAR}, #{extended20,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" useGeneratedKeys="true" keyProperty="id" parameterType="com.bean.Activitydetailinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into activitydetailinfo
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="activitytitle != null">
        activitytitle,
      </if>
      <if test="activitycontent != null">
        activitycontent,
      </if>
      <if test="activityteacher != null">
        activityteacher,
      </if>
      <if test="activitystarttime != null">
        activitystarttime,
      </if>
      <if test="actitvityendtime != null">
        actitvityendtime,
      </if>
      <if test="activityprice != null">
        activityprice,
      </if>
      <if test="activitylocation != null">
        activitylocation,
      </if>
      <if test="activitystoptime != null">
        activitystoptime,
      </if>
      <if test="mid != null">
        mid,
      </if>
      <if test="extended1 != null">
        extended1,
      </if>
      <if test="extended2 != null">
        extended2,
      </if>
      <if test="extended3 != null">
        extended3,
      </if>
      <if test="extended4 != null">
        extended4,
      </if>
      <if test="extended5 != null">
        extended5,
      </if>
      <if test="extended6 != null">
        extended6,
      </if>
      <if test="extended7 != null">
        extended7,
      </if>
      <if test="extended8 != null">
        extended8,
      </if>
      <if test="extended9 != null">
        extended9,
      </if>
      <if test="extended10 != null">
        extended10,
      </if>
      <if test="extended11 != null">
        extended11,
      </if>
      <if test="extended12 != null">
        extended12,
      </if>
      <if test="extended13 != null">
        extended13,
      </if>
      <if test="extended14 != null">
        extended14,
      </if>
      <if test="extended15 != null">
        extended15,
      </if>
      <if test="extended16 != null">
        extended16,
      </if>
      <if test="extended17 != null">
        extended17,
      </if>
      <if test="extended18 != null">
        extended18,
      </if>
      <if test="extended19 != null">
        extended19,
      </if>
      <if test="extended20 != null">
        extended20,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="activitytitle != null">
        #{activitytitle,jdbcType=VARCHAR},
      </if>
      <if test="activitycontent != null">
        #{activitycontent,jdbcType=VARCHAR},
      </if>
      <if test="activityteacher != null">
        #{activityteacher,jdbcType=VARCHAR},
      </if>
      <if test="activitystarttime != null">
        #{activitystarttime,jdbcType=DATE},
      </if>
      <if test="actitvityendtime != null">
        #{actitvityendtime,jdbcType=DATE},
      </if>
      <if test="activityprice != null">
        #{activityprice,jdbcType=DOUBLE},
      </if>
      <if test="activitylocation != null">
        #{activitylocation,jdbcType=VARCHAR},
      </if>
      <if test="activitystoptime != null">
        #{activitystoptime,jdbcType=DATE},
      </if>
      <if test="mid != null">
        #{mid,jdbcType=INTEGER},
      </if>
      <if test="extended1 != null">
        #{extended1,jdbcType=VARCHAR},
      </if>
      <if test="extended2 != null">
        #{extended2,jdbcType=VARCHAR},
      </if>
      <if test="extended3 != null">
        #{extended3,jdbcType=VARCHAR},
      </if>
      <if test="extended4 != null">
        #{extended4,jdbcType=VARCHAR},
      </if>
      <if test="extended5 != null">
        #{extended5,jdbcType=VARCHAR},
      </if>
      <if test="extended6 != null">
        #{extended6,jdbcType=VARCHAR},
      </if>
      <if test="extended7 != null">
        #{extended7,jdbcType=VARCHAR},
      </if>
      <if test="extended8 != null">
        #{extended8,jdbcType=VARCHAR},
      </if>
      <if test="extended9 != null">
        #{extended9,jdbcType=VARCHAR},
      </if>
      <if test="extended10 != null">
        #{extended10,jdbcType=VARCHAR},
      </if>
      <if test="extended11 != null">
        #{extended11,jdbcType=VARCHAR},
      </if>
      <if test="extended12 != null">
        #{extended12,jdbcType=VARCHAR},
      </if>
      <if test="extended13 != null">
        #{extended13,jdbcType=VARCHAR},
      </if>
      <if test="extended14 != null">
        #{extended14,jdbcType=VARCHAR},
      </if>
      <if test="extended15 != null">
        #{extended15,jdbcType=VARCHAR},
      </if>
      <if test="extended16 != null">
        #{extended16,jdbcType=VARCHAR},
      </if>
      <if test="extended17 != null">
        #{extended17,jdbcType=VARCHAR},
      </if>
      <if test="extended18 != null">
        #{extended18,jdbcType=VARCHAR},
      </if>
      <if test="extended19 != null">
        #{extended19,jdbcType=VARCHAR},
      </if>
      <if test="extended20 != null">
        #{extended20,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.bean.Activitydetailinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update activitydetailinfo
    <set>
      <if test="activitytitle != null">
        activitytitle = #{activitytitle,jdbcType=VARCHAR},
      </if>
      <if test="activitycontent != null">
        activitycontent = #{activitycontent,jdbcType=VARCHAR},
      </if>
      <if test="activityteacher != null">
        activityteacher = #{activityteacher,jdbcType=VARCHAR},
      </if>
      <if test="activitystarttime != null">
        activitystarttime = #{activitystarttime,jdbcType=DATE},
      </if>
      <if test="actitvityendtime != null">
        actitvityendtime = #{actitvityendtime,jdbcType=DATE},
      </if>
      <if test="activityprice != null">
        activityprice = #{activityprice,jdbcType=DOUBLE},
      </if>
      <if test="activitylocation != null">
        activitylocation = #{activitylocation,jdbcType=VARCHAR},
      </if>
      <if test="activitystoptime != null">
        activitystoptime = #{activitystoptime,jdbcType=DATE},
      </if>
      <if test="mid != null">
        mid = #{mid,jdbcType=INTEGER},
      </if>
      <if test="extended1 != null">
        extended1 = #{extended1,jdbcType=VARCHAR},
      </if>
      <if test="extended2 != null">
        extended2 = #{extended2,jdbcType=VARCHAR},
      </if>
      <if test="extended3 != null">
        extended3 = #{extended3,jdbcType=VARCHAR},
      </if>
      <if test="extended4 != null">
        extended4 = #{extended4,jdbcType=VARCHAR},
      </if>
      <if test="extended5 != null">
        extended5 = #{extended5,jdbcType=VARCHAR},
      </if>
      <if test="extended6 != null">
        extended6 = #{extended6,jdbcType=VARCHAR},
      </if>
      <if test="extended7 != null">
        extended7 = #{extended7,jdbcType=VARCHAR},
      </if>
      <if test="extended8 != null">
        extended8 = #{extended8,jdbcType=VARCHAR},
      </if>
      <if test="extended9 != null">
        extended9 = #{extended9,jdbcType=VARCHAR},
      </if>
      <if test="extended10 != null">
        extended10 = #{extended10,jdbcType=VARCHAR},
      </if>
      <if test="extended11 != null">
        extended11 = #{extended11,jdbcType=VARCHAR},
      </if>
      <if test="extended12 != null">
        extended12 = #{extended12,jdbcType=VARCHAR},
      </if>
      <if test="extended13 != null">
        extended13 = #{extended13,jdbcType=VARCHAR},
      </if>
      <if test="extended14 != null">
        extended14 = #{extended14,jdbcType=VARCHAR},
      </if>
      <if test="extended15 != null">
        extended15 = #{extended15,jdbcType=VARCHAR},
      </if>
      <if test="extended16 != null">
        extended16 = #{extended16,jdbcType=VARCHAR},
      </if>
      <if test="extended17 != null">
        extended17 = #{extended17,jdbcType=VARCHAR},
      </if>
      <if test="extended18 != null">
        extended18 = #{extended18,jdbcType=VARCHAR},
      </if>
      <if test="extended19 != null">
        extended19 = #{extended19,jdbcType=VARCHAR},
      </if>
      <if test="extended20 != null">
        extended20 = #{extended20,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.bean.Activitydetailinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update activitydetailinfo
    set activitytitle = #{activitytitle,jdbcType=VARCHAR},
      activitycontent = #{activitycontent,jdbcType=VARCHAR},
      activityteacher = #{activityteacher,jdbcType=VARCHAR},
      activitystarttime = #{activitystarttime,jdbcType=DATE},
      actitvityendtime = #{actitvityendtime,jdbcType=DATE},
      activityprice = #{activityprice,jdbcType=DOUBLE},
      activitylocation = #{activitylocation,jdbcType=VARCHAR},
      activitystoptime = #{activitystoptime,jdbcType=DATE},
      mid = #{mid,jdbcType=INTEGER},
      extended1 = #{extended1,jdbcType=VARCHAR},
      extended2 = #{extended2,jdbcType=VARCHAR},
      extended3 = #{extended3,jdbcType=VARCHAR},
      extended4 = #{extended4,jdbcType=VARCHAR},
      extended5 = #{extended5,jdbcType=VARCHAR},
      extended6 = #{extended6,jdbcType=VARCHAR},
      extended7 = #{extended7,jdbcType=VARCHAR},
      extended8 = #{extended8,jdbcType=VARCHAR},
      extended9 = #{extended9,jdbcType=VARCHAR},
      extended10 = #{extended10,jdbcType=VARCHAR},
      extended11 = #{extended11,jdbcType=VARCHAR},
      extended12 = #{extended12,jdbcType=VARCHAR},
      extended13 = #{extended13,jdbcType=VARCHAR},
      extended14 = #{extended14,jdbcType=VARCHAR},
      extended15 = #{extended15,jdbcType=VARCHAR},
      extended16 = #{extended16,jdbcType=VARCHAR},
      extended17 = #{extended17,jdbcType=VARCHAR},
      extended18 = #{extended18,jdbcType=VARCHAR},
      extended19 = #{extended19,jdbcType=VARCHAR},
      extended20 = #{extended20,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  
  <!-- 通过管理员的id查询管理员所管理的活动 并返回-->
  <select id="selectByMid" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  select * from activitydetailinfo where mid =#{mid}
</select>

<!--//根据名称查询某一活动  -->
<select id="findOneActivityJoinInfo" parameterType="hashMap" resultType="com.bean.Activitydetailinfo">
SELECT * from activitydetailinfo,manager 
WHERE activitydetailinfo.mid=manager.id
AND manager.id=#{managerId,jdbcType=INTEGER}
<if test="value != null">
 AND activitytitle LIKE '%${value}%' 
</if>
</select>
<!--前台活动浏览  -->
<!--//所有的活动  -->
<select id="findAllActiveInfo" parameterType="hashMap" resultType="com.bean.Activitydetailinfo">
     <!--  select * from activitydetailinfo order by actitvityendtime DESC -->
     select * from activitydetailinfo ORDER BY id LIMIT #{page},#{max}
</select>
<!-- //活动详情  -->
<select id="findactiveDetailById" parameterType="java.lang.Integer" resultType="com.bean.Activitydetailinfo">
       select id,activitytitle,activitycontent,
		activityteacher,activitystarttime,actitvityendtime,COALESCE(activityprice,0),activitylocation,
		activitystoptime,mid 
		from activitydetailinfo where id=#{id,jdbcType=INTEGER}
</select>
<!--//最新活动  -->
<select id="findNewActiveInfo" resultType="com.bean.Activitydetailinfo">
      select * from activitydetailinfo order by activitystoptime DESC limit 5
</select>
<!--活动记录数  -->
<select id="getActivityCount" resultType="java.lang.Integer">
select count(*) from activitydetailinfo
</select>
</mapper>