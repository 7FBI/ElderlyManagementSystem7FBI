<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dao.FrontinformationMapper">
	<resultMap id="BaseResultMap" type="com.bean.Frontinformation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<constructor>
			<idArg column="id" jdbcType="INTEGER" javaType="java.lang.Integer" />
			<arg column="newstitle" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="newscontent" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="sendtiem" jdbcType="DATE" javaType="java.util.Date" />
			<arg column="kinds" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="frontpicture" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="mid" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended1" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended2" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended3" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended4" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended5" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended6" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended7" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended8" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended9" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended10" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended11" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended12" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended13" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended14" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended15" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended16" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended17" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended18" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended19" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="extended20" jdbcType="VARCHAR" javaType="java.lang.String" />
		</constructor>
	</resultMap>

	<!-- 关联查询图片表 -->
	<resultMap id="FrontinformationAndInfopicture" type="com.bean.Frontinformation">
		<id property="id" column="id" />
		<result column="newstitle" property="newstitle" />
		<result column="newscontent" property="newscontent" />
		<result column="sendtiem" property="sendtiem" />
		<result column="kinds" property="kinds" />
		<result column="frontpicture" property="frontpicture" />
		<result column="mid" property="mid" />
		<collection property="infopuctures" ofType="com.bean.Infopicture">
			<id column="id" property="id" />
			<result column="infoid" property="infoid" />
			<result column="imagepath" property="imagepath" />
			<result column="imagecontent" property="imagecontent" />
		</collection>
	</resultMap>

	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		id, newstitle, newscontent, sendtiem, kinds, frontpicture, mid,
		extended1, extended2,
		extended3, extended4, extended5, extended6,
		extended7, extended8, extended9,
		extended10,
		extended11, extended12,
		extended13, extended14, extended15, extended16,
		extended17,
		extended18,
		extended19, extended20
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from frontinformation
		where id = #{id,jdbcType=INTEGER}
	</select>
	<!-- 关联查询主键信息 -->
	<select id="selectByKey" resultMap="FrontinformationAndInfopicture"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		*
		from frontinformation
		where id = #{id,jdbcType=INTEGER}
	</select>

	<!-- 查询出mid的发布消息 -->
	<select id="selectByMid" resultMap="BaseResultMap"
		parameterType="hashMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		*
		from frontinformation
		<where>
			<if test="mid!=null"> and mid=#{mid} </if>
		</where>
		ORDER BY sendtiem LIMIT #{page},#{max}
	</select>

	<select id="selectByMidCount" resultType="java.lang.Integer"
		parameterType="hashMap">
		select
		count(*)
		from frontinformation
		<where>
			<if test="mid != null"> and mid=#{mid} </if>
		</where>
	</select>

	<!-- 类型 -->
	<select id="selectAllKinds" resultType="java.lang.String"
		parameterType="hashMap">
		select kinds from frontinformation
		<where>
			<if test="mid!=null"> and mid=#{mid}</if>
		</where>
		GROUP BY kinds
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from frontinformation
		where id = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.bean.Frontinformation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into frontinformation (id, newstitle, newscontent,
		sendtiem,
		kinds, frontpicture,
		mid, extended1, extended2,
		extended3, extended4,
		extended5,
		extended6, extended7, extended8,
		extended9, extended10,
		extended11,
		extended12, extended13, extended14,
		extended15, extended16,
		extended17,
		extended18, extended19, extended20
		)
		values
		(#{id,jdbcType=INTEGER}, #{newstitle,jdbcType=VARCHAR},
		#{newscontent,jdbcType=VARCHAR},
		#{sendtiem,jdbcType=DATE},
		#{kinds,jdbcType=VARCHAR}, #{frontpicture,jdbcType=VARCHAR},
		#{mid,jdbcType=VARCHAR}, #{extended1,jdbcType=VARCHAR},
		#{extended2,jdbcType=VARCHAR},
		#{extended3,jdbcType=VARCHAR},
		#{extended4,jdbcType=VARCHAR}, #{extended5,jdbcType=VARCHAR},
		#{extended6,jdbcType=VARCHAR}, #{extended7,jdbcType=VARCHAR},
		#{extended8,jdbcType=VARCHAR},
		#{extended9,jdbcType=VARCHAR},
		#{extended10,jdbcType=VARCHAR}, #{extended11,jdbcType=VARCHAR},
		#{extended12,jdbcType=VARCHAR}, #{extended13,jdbcType=VARCHAR},
		#{extended14,jdbcType=VARCHAR},
		#{extended15,jdbcType=VARCHAR},
		#{extended16,jdbcType=VARCHAR}, #{extended17,jdbcType=VARCHAR},
		#{extended18,jdbcType=VARCHAR}, #{extended19,jdbcType=VARCHAR},
		#{extended20,jdbcType=VARCHAR}
		)
	</insert>
	<insert id="insertSelective" useGeneratedKeys="true"
		keyProperty="id" parameterType="com.bean.Frontinformation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into frontinformation
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="newstitle != null">
				newstitle,
			</if>
			<if test="newscontent != null">
				newscontent,
			</if>
			<if test="sendtiem != null">
				sendtiem,
			</if>
			<if test="kinds != null">
				kinds,
			</if>
			<if test="frontpicture != null">
				frontpicture,
			</if>
			<if test="mid != null">
				mid,
			</if>
			<if test="extended1 != null">
				extended1,
			</if>
			<if test="extended2 != null">
				extended2,
			</if>
			<if test="extended3 != null">
				extended3,
			</if>
			<if test="extended4 != null">
				extended4,
			</if>
			<if test="extended5 != null">
				extended5,
			</if>
			<if test="extended6 != null">
				extended6,
			</if>
			<if test="extended7 != null">
				extended7,
			</if>
			<if test="extended8 != null">
				extended8,
			</if>
			<if test="extended9 != null">
				extended9,
			</if>
			<if test="extended10 != null">
				extended10,
			</if>
			<if test="extended11 != null">
				extended11,
			</if>
			<if test="extended12 != null">
				extended12,
			</if>
			<if test="extended13 != null">
				extended13,
			</if>
			<if test="extended14 != null">
				extended14,
			</if>
			<if test="extended15 != null">
				extended15,
			</if>
			<if test="extended16 != null">
				extended16,
			</if>
			<if test="extended17 != null">
				extended17,
			</if>
			<if test="extended18 != null">
				extended18,
			</if>
			<if test="extended19 != null">
				extended19,
			</if>
			<if test="extended20 != null">
				extended20,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=INTEGER},
			</if>
			<if test="newstitle != null">
				#{newstitle,jdbcType=VARCHAR},
			</if>
			<if test="newscontent != null">
				#{newscontent,jdbcType=VARCHAR},
			</if>
			<if test="sendtiem != null">
				#{sendtiem,jdbcType=DATE},
			</if>
			<if test="kinds != null">
				#{kinds,jdbcType=VARCHAR},
			</if>
			<if test="frontpicture != null">
				#{frontpicture,jdbcType=VARCHAR},
			</if>
			<if test="mid != null">
				#{mid,jdbcType=VARCHAR},
			</if>
			<if test="extended1 != null">
				#{extended1,jdbcType=VARCHAR},
			</if>
			<if test="extended2 != null">
				#{extended2,jdbcType=VARCHAR},
			</if>
			<if test="extended3 != null">
				#{extended3,jdbcType=VARCHAR},
			</if>
			<if test="extended4 != null">
				#{extended4,jdbcType=VARCHAR},
			</if>
			<if test="extended5 != null">
				#{extended5,jdbcType=VARCHAR},
			</if>
			<if test="extended6 != null">
				#{extended6,jdbcType=VARCHAR},
			</if>
			<if test="extended7 != null">
				#{extended7,jdbcType=VARCHAR},
			</if>
			<if test="extended8 != null">
				#{extended8,jdbcType=VARCHAR},
			</if>
			<if test="extended9 != null">
				#{extended9,jdbcType=VARCHAR},
			</if>
			<if test="extended10 != null">
				#{extended10,jdbcType=VARCHAR},
			</if>
			<if test="extended11 != null">
				#{extended11,jdbcType=VARCHAR},
			</if>
			<if test="extended12 != null">
				#{extended12,jdbcType=VARCHAR},
			</if>
			<if test="extended13 != null">
				#{extended13,jdbcType=VARCHAR},
			</if>
			<if test="extended14 != null">
				#{extended14,jdbcType=VARCHAR},
			</if>
			<if test="extended15 != null">
				#{extended15,jdbcType=VARCHAR},
			</if>
			<if test="extended16 != null">
				#{extended16,jdbcType=VARCHAR},
			</if>
			<if test="extended17 != null">
				#{extended17,jdbcType=VARCHAR},
			</if>
			<if test="extended18 != null">
				#{extended18,jdbcType=VARCHAR},
			</if>
			<if test="extended19 != null">
				#{extended19,jdbcType=VARCHAR},
			</if>
			<if test="extended20 != null">
				#{extended20,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.bean.Frontinformation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update frontinformation
		<set>
			<if test="newstitle != null">
				newstitle = #{newstitle,jdbcType=VARCHAR},
			</if>
			<if test="newscontent != null">
				newscontent = #{newscontent,jdbcType=VARCHAR},
			</if>
			<if test="sendtiem != null">
				sendtiem = #{sendtiem,jdbcType=DATE},
			</if>
			<if test="kinds != null">
				kinds = #{kinds,jdbcType=VARCHAR},
			</if>
			<if test="frontpicture != null">
				frontpicture = #{frontpicture,jdbcType=VARCHAR},
			</if>
			<if test="mid != null">
				mid = #{mid,jdbcType=VARCHAR},
			</if>
			<if test="extended1 != null">
				extended1 = #{extended1,jdbcType=VARCHAR},
			</if>
			<if test="extended2 != null">
				extended2 = #{extended2,jdbcType=VARCHAR},
			</if>
			<if test="extended3 != null">
				extended3 = #{extended3,jdbcType=VARCHAR},
			</if>
			<if test="extended4 != null">
				extended4 = #{extended4,jdbcType=VARCHAR},
			</if>
			<if test="extended5 != null">
				extended5 = #{extended5,jdbcType=VARCHAR},
			</if>
			<if test="extended6 != null">
				extended6 = #{extended6,jdbcType=VARCHAR},
			</if>
			<if test="extended7 != null">
				extended7 = #{extended7,jdbcType=VARCHAR},
			</if>
			<if test="extended8 != null">
				extended8 = #{extended8,jdbcType=VARCHAR},
			</if>
			<if test="extended9 != null">
				extended9 = #{extended9,jdbcType=VARCHAR},
			</if>
			<if test="extended10 != null">
				extended10 = #{extended10,jdbcType=VARCHAR},
			</if>
			<if test="extended11 != null">
				extended11 = #{extended11,jdbcType=VARCHAR},
			</if>
			<if test="extended12 != null">
				extended12 = #{extended12,jdbcType=VARCHAR},
			</if>
			<if test="extended13 != null">
				extended13 = #{extended13,jdbcType=VARCHAR},
			</if>
			<if test="extended14 != null">
				extended14 = #{extended14,jdbcType=VARCHAR},
			</if>
			<if test="extended15 != null">
				extended15 = #{extended15,jdbcType=VARCHAR},
			</if>
			<if test="extended16 != null">
				extended16 = #{extended16,jdbcType=VARCHAR},
			</if>
			<if test="extended17 != null">
				extended17 = #{extended17,jdbcType=VARCHAR},
			</if>
			<if test="extended18 != null">
				extended18 = #{extended18,jdbcType=VARCHAR},
			</if>
			<if test="extended19 != null">
				extended19 = #{extended19,jdbcType=VARCHAR},
			</if>
			<if test="extended20 != null">
				extended20 = #{extended20,jdbcType=VARCHAR},
			</if>
		</set>
		where id = #{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.bean.Frontinformation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update frontinformation
		set newstitle = #{newstitle,jdbcType=VARCHAR},
		newscontent = #{newscontent,jdbcType=VARCHAR},
		sendtiem =
		#{sendtiem,jdbcType=DATE},
		kinds = #{kinds,jdbcType=VARCHAR},
		frontpicture = #{frontpicture,jdbcType=VARCHAR},
		mid =
		#{mid,jdbcType=VARCHAR},
		extended1 = #{extended1,jdbcType=VARCHAR},
		extended2 = #{extended2,jdbcType=VARCHAR},
		extended3 =
		#{extended3,jdbcType=VARCHAR},
		extended4 =
		#{extended4,jdbcType=VARCHAR},
		extended5 =
		#{extended5,jdbcType=VARCHAR},
		extended6 =
		#{extended6,jdbcType=VARCHAR},
		extended7 =
		#{extended7,jdbcType=VARCHAR},
		extended8 =
		#{extended8,jdbcType=VARCHAR},
		extended9 =
		#{extended9,jdbcType=VARCHAR},
		extended10 =
		#{extended10,jdbcType=VARCHAR},
		extended11 =
		#{extended11,jdbcType=VARCHAR},
		extended12 =
		#{extended12,jdbcType=VARCHAR},
		extended13 =
		#{extended13,jdbcType=VARCHAR},
		extended14 =
		#{extended14,jdbcType=VARCHAR},
		extended15 =
		#{extended15,jdbcType=VARCHAR},
		extended16 =
		#{extended16,jdbcType=VARCHAR},
		extended17 =
		#{extended17,jdbcType=VARCHAR},
		extended18 =
		#{extended18,jdbcType=VARCHAR},
		extended19 =
		#{extended19,jdbcType=VARCHAR},
		extended20 =
		#{extended20,jdbcType=VARCHAR}
		where id = #{id,jdbcType=INTEGER}
	</update>

	<!-- 首页信息板块的信息显示查询最新四条 -->
	<select	id="selectFour" resultMap="BaseResultMap">
		SELECT * from frontinformation 
		ORDER BY  sendtiem DESC LIMIT 0,4 
	</select>
	<!-- 信息列表页 -->
	<select id="selectAll" resultMap="FrontinformationAndInfopicture">
		SELECT *
		from frontinformation f, infopicture i
		where i.infoid=f.id
		ORDER BY sendtiem DESC
	</select>
	
	
</mapper>