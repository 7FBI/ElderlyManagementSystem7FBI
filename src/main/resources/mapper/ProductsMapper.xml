<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.ProductsMapper">
  <resultMap id="BaseResultMap" type="com.bean.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <constructor>
      <idArg column="id" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="pname" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="size" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="productscolor" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="productstype1" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="productstype2" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="price" javaType="java.lang.Double" jdbcType="DOUBLE" />
      <arg column="pdescription" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="count" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="tid" javaType="java.lang.Integer" jdbcType="INTEGER" />
      <arg column="extended1" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended2" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended3" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended4" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended5" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended6" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended7" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended8" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended9" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended10" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended11" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended12" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended13" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended14" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended15" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended16" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended17" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended18" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended19" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="extended20" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="producturl" javaType="java.lang.String" jdbcType="VARCHAR" />
    </constructor>
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, pname, size, productscolor, productstype1, productstype2, price, pdescription, 
    count, tid, extended1, extended2, extended3, extended4, extended5, extended6, extended7, 
    extended8, extended9, extended10, extended11, extended12, extended13, extended14, 
    extended15, extended16, extended17, extended18, extended19, extended20, producturl
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from products
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from products
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.bean.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into products (id, pname, size, 
      productscolor, productstype1, productstype2, 
      price, pdescription, count, 
      tid, extended1, extended2, 
      extended3, extended4, extended5, 
      extended6, extended7, extended8, 
      extended9, extended10, extended11, 
      extended12, extended13, extended14, 
      extended15, extended16, extended17, 
      extended18, extended19, extended20, 
      producturl)
    values (#{id,jdbcType=INTEGER}, #{pname,jdbcType=VARCHAR}, #{size,jdbcType=VARCHAR}, 
      #{productscolor,jdbcType=VARCHAR}, #{productstype1,jdbcType=VARCHAR}, #{productstype2,jdbcType=VARCHAR}, 
      #{price,jdbcType=DOUBLE}, #{pdescription,jdbcType=VARCHAR}, #{count,jdbcType=INTEGER}, 
      #{tid,jdbcType=INTEGER}, #{extended1,jdbcType=VARCHAR}, #{extended2,jdbcType=VARCHAR}, 
      #{extended3,jdbcType=VARCHAR}, #{extended4,jdbcType=VARCHAR}, #{extended5,jdbcType=VARCHAR}, 
      #{extended6,jdbcType=VARCHAR}, #{extended7,jdbcType=VARCHAR}, #{extended8,jdbcType=VARCHAR}, 
      #{extended9,jdbcType=VARCHAR}, #{extended10,jdbcType=VARCHAR}, #{extended11,jdbcType=VARCHAR}, 
      #{extended12,jdbcType=VARCHAR}, #{extended13,jdbcType=VARCHAR}, #{extended14,jdbcType=VARCHAR}, 
      #{extended15,jdbcType=VARCHAR}, #{extended16,jdbcType=VARCHAR}, #{extended17,jdbcType=VARCHAR}, 
      #{extended18,jdbcType=VARCHAR}, #{extended19,jdbcType=VARCHAR}, #{extended20,jdbcType=VARCHAR}, 
      #{producturl,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.bean.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into products
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="pname != null">
        pname,
      </if>
      <if test="size != null">
        size,
      </if>
      <if test="productscolor != null">
        productscolor,
      </if>
      <if test="productstype1 != null">
        productstype1,
      </if>
      <if test="productstype2 != null">
        productstype2,
      </if>
      <if test="price != null">
        price,
      </if>
      <if test="pdescription != null">
        pdescription,
      </if>
      <if test="count != null">
        count,
      </if>
      <if test="tid != null">
        tid,
      </if>
      <if test="extended1 != null">
        extended1,
      </if>
      <if test="extended2 != null">
        extended2,
      </if>
      <if test="extended3 != null">
        extended3,
      </if>
      <if test="extended4 != null">
        extended4,
      </if>
      <if test="extended5 != null">
        extended5,
      </if>
      <if test="extended6 != null">
        extended6,
      </if>
      <if test="extended7 != null">
        extended7,
      </if>
      <if test="extended8 != null">
        extended8,
      </if>
      <if test="extended9 != null">
        extended9,
      </if>
      <if test="extended10 != null">
        extended10,
      </if>
      <if test="extended11 != null">
        extended11,
      </if>
      <if test="extended12 != null">
        extended12,
      </if>
      <if test="extended13 != null">
        extended13,
      </if>
      <if test="extended14 != null">
        extended14,
      </if>
      <if test="extended15 != null">
        extended15,
      </if>
      <if test="extended16 != null">
        extended16,
      </if>
      <if test="extended17 != null">
        extended17,
      </if>
      <if test="extended18 != null">
        extended18,
      </if>
      <if test="extended19 != null">
        extended19,
      </if>
      <if test="extended20 != null">
        extended20,
      </if>
      <if test="producturl != null">
        producturl,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="pname != null">
        #{pname,jdbcType=VARCHAR},
      </if>
      <if test="size != null">
        #{size,jdbcType=VARCHAR},
      </if>
      <if test="productscolor != null">
        #{productscolor,jdbcType=VARCHAR},
      </if>
      <if test="productstype1 != null">
        #{productstype1,jdbcType=VARCHAR},
      </if>
      <if test="productstype2 != null">
        #{productstype2,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        #{price,jdbcType=DOUBLE},
      </if>
      <if test="pdescription != null">
        #{pdescription,jdbcType=VARCHAR},
      </if>
      <if test="count != null">
        #{count,jdbcType=INTEGER},
      </if>
      <if test="tid != null">
        #{tid,jdbcType=INTEGER},
      </if>
      <if test="extended1 != null">
        #{extended1,jdbcType=VARCHAR},
      </if>
      <if test="extended2 != null">
        #{extended2,jdbcType=VARCHAR},
      </if>
      <if test="extended3 != null">
        #{extended3,jdbcType=VARCHAR},
      </if>
      <if test="extended4 != null">
        #{extended4,jdbcType=VARCHAR},
      </if>
      <if test="extended5 != null">
        #{extended5,jdbcType=VARCHAR},
      </if>
      <if test="extended6 != null">
        #{extended6,jdbcType=VARCHAR},
      </if>
      <if test="extended7 != null">
        #{extended7,jdbcType=VARCHAR},
      </if>
      <if test="extended8 != null">
        #{extended8,jdbcType=VARCHAR},
      </if>
      <if test="extended9 != null">
        #{extended9,jdbcType=VARCHAR},
      </if>
      <if test="extended10 != null">
        #{extended10,jdbcType=VARCHAR},
      </if>
      <if test="extended11 != null">
        #{extended11,jdbcType=VARCHAR},
      </if>
      <if test="extended12 != null">
        #{extended12,jdbcType=VARCHAR},
      </if>
      <if test="extended13 != null">
        #{extended13,jdbcType=VARCHAR},
      </if>
      <if test="extended14 != null">
        #{extended14,jdbcType=VARCHAR},
      </if>
      <if test="extended15 != null">
        #{extended15,jdbcType=VARCHAR},
      </if>
      <if test="extended16 != null">
        #{extended16,jdbcType=VARCHAR},
      </if>
      <if test="extended17 != null">
        #{extended17,jdbcType=VARCHAR},
      </if>
      <if test="extended18 != null">
        #{extended18,jdbcType=VARCHAR},
      </if>
      <if test="extended19 != null">
        #{extended19,jdbcType=VARCHAR},
      </if>
      <if test="extended20 != null">
        #{extended20,jdbcType=VARCHAR},
      </if>
      <if test="producturl != null">
        #{producturl,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.bean.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update products
    <set>
      <if test="pname != null">
        pname = #{pname,jdbcType=VARCHAR},
      </if>
      <if test="size != null">
        size = #{size,jdbcType=VARCHAR},
      </if>
      <if test="productscolor != null">
        productscolor = #{productscolor,jdbcType=VARCHAR},
      </if>
      <if test="productstype1 != null">
        productstype1 = #{productstype1,jdbcType=VARCHAR},
      </if>
      <if test="productstype2 != null">
        productstype2 = #{productstype2,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        price = #{price,jdbcType=DOUBLE},
      </if>
      <if test="pdescription != null">
        pdescription = #{pdescription,jdbcType=VARCHAR},
      </if>
      <if test="count != null">
        count = #{count,jdbcType=INTEGER},
      </if>
      <if test="tid != null">
        tid = #{tid,jdbcType=INTEGER},
      </if>
      <if test="extended1 != null">
        extended1 = #{extended1,jdbcType=VARCHAR},
      </if>
      <if test="extended2 != null">
        extended2 = #{extended2,jdbcType=VARCHAR},
      </if>
      <if test="extended3 != null">
        extended3 = #{extended3,jdbcType=VARCHAR},
      </if>
      <if test="extended4 != null">
        extended4 = #{extended4,jdbcType=VARCHAR},
      </if>
      <if test="extended5 != null">
        extended5 = #{extended5,jdbcType=VARCHAR},
      </if>
      <if test="extended6 != null">
        extended6 = #{extended6,jdbcType=VARCHAR},
      </if>
      <if test="extended7 != null">
        extended7 = #{extended7,jdbcType=VARCHAR},
      </if>
      <if test="extended8 != null">
        extended8 = #{extended8,jdbcType=VARCHAR},
      </if>
      <if test="extended9 != null">
        extended9 = #{extended9,jdbcType=VARCHAR},
      </if>
      <if test="extended10 != null">
        extended10 = #{extended10,jdbcType=VARCHAR},
      </if>
      <if test="extended11 != null">
        extended11 = #{extended11,jdbcType=VARCHAR},
      </if>
      <if test="extended12 != null">
        extended12 = #{extended12,jdbcType=VARCHAR},
      </if>
      <if test="extended13 != null">
        extended13 = #{extended13,jdbcType=VARCHAR},
      </if>
      <if test="extended14 != null">
        extended14 = #{extended14,jdbcType=VARCHAR},
      </if>
      <if test="extended15 != null">
        extended15 = #{extended15,jdbcType=VARCHAR},
      </if>
      <if test="extended16 != null">
        extended16 = #{extended16,jdbcType=VARCHAR},
      </if>
      <if test="extended17 != null">
        extended17 = #{extended17,jdbcType=VARCHAR},
      </if>
      <if test="extended18 != null">
        extended18 = #{extended18,jdbcType=VARCHAR},
      </if>
      <if test="extended19 != null">
        extended19 = #{extended19,jdbcType=VARCHAR},
      </if>
      <if test="extended20 != null">
        extended20 = #{extended20,jdbcType=VARCHAR},
      </if>
      <if test="producturl != null">
        producturl = #{producturl,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.bean.Products">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update products
    set pname = #{pname,jdbcType=VARCHAR},
      size = #{size,jdbcType=VARCHAR},
      productscolor = #{productscolor,jdbcType=VARCHAR},
      productstype1 = #{productstype1,jdbcType=VARCHAR},
      productstype2 = #{productstype2,jdbcType=VARCHAR},
      price = #{price,jdbcType=DOUBLE},
      pdescription = #{pdescription,jdbcType=VARCHAR},
      count = #{count,jdbcType=INTEGER},
      tid = #{tid,jdbcType=INTEGER},
      extended1 = #{extended1,jdbcType=VARCHAR},
      extended2 = #{extended2,jdbcType=VARCHAR},
      extended3 = #{extended3,jdbcType=VARCHAR},
      extended4 = #{extended4,jdbcType=VARCHAR},
      extended5 = #{extended5,jdbcType=VARCHAR},
      extended6 = #{extended6,jdbcType=VARCHAR},
      extended7 = #{extended7,jdbcType=VARCHAR},
      extended8 = #{extended8,jdbcType=VARCHAR},
      extended9 = #{extended9,jdbcType=VARCHAR},
      extended10 = #{extended10,jdbcType=VARCHAR},
      extended11 = #{extended11,jdbcType=VARCHAR},
      extended12 = #{extended12,jdbcType=VARCHAR},
      extended13 = #{extended13,jdbcType=VARCHAR},
      extended14 = #{extended14,jdbcType=VARCHAR},
      extended15 = #{extended15,jdbcType=VARCHAR},
      extended16 = #{extended16,jdbcType=VARCHAR},
      extended17 = #{extended17,jdbcType=VARCHAR},
      extended18 = #{extended18,jdbcType=VARCHAR},
      extended19 = #{extended19,jdbcType=VARCHAR},
      extended20 = #{extended20,jdbcType=VARCHAR},
      producturl = #{producturl,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectProductsByPage" resultType="com.bean.Products" >
    select * from products  
  </select>
  
  
  <!-- 定义商品模糊查询sql片段 -->
   <sql id="query_products_pname">
    <if test="pname!=null">
       products.pname like '%${value}%'
    </if>
   </sql>
  <select id="QueryProductsBypname" parameterType="string" resultType="com.bean.Products">
   select * from products  
    <!-- <include refid="query_products_pname"></include> -->
    where products.pname like '%${value}%'
  </select>
  
 <!-- 删除语句  下架商品-->
 <delete id="deleteProductsByid" parameterType="java.lang.Integer">
  delete from products where id=#{value}
 </delete>
 
 <insert id="insertProductsByselectKey" parameterType="com.bean.Products">
   insert into products(pname,price,count) value(#{pname},#{price},#{count})
     <!--  <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="pname != null">
        #{pname,jdbcType=VARCHAR},
      </if>
      <if test="size != null">
        #{size,jdbcType=VARCHAR},
      </if>
      <if test="productscolor != null">
        #{productscolor,jdbcType=VARCHAR},
      </if>
      <if test="productstype1 != null">
        #{productstype1,jdbcType=VARCHAR},
      </if>
      <if test="productstype2 != null">
        #{productstype2,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        #{price,jdbcType=DOUBLE},
      </if>
      <if test="pdescription != null">
        #{pdescription,jdbcType=VARCHAR},
      </if>
      <if test="count != null">
        #{count,jdbcType=INTEGER},
      </if>
      <if test="tid != null">
        #{tid,jdbcType=INTEGER},
      </if>
      <if test="extended1 != null">
        #{extended1,jdbcType=VARCHAR},
      </if>
      <if test="extended2 != null">
        #{extended2,jdbcType=VARCHAR},
      </if>
      <if test="extended3 != null">
        #{extended3,jdbcType=VARCHAR},
      </if>
      <if test="extended4 != null">
        #{extended4,jdbcType=VARCHAR},
      </if>
      <if test="extended5 != null">
        #{extended5,jdbcType=VARCHAR},
      </if>
      <if test="extended6 != null">
        #{extended6,jdbcType=VARCHAR},
      </if>
      <if test="extended7 != null">
        #{extended7,jdbcType=VARCHAR},
      </if>
      <if test="extended8 != null">
        #{extended8,jdbcType=VARCHAR},
      </if>
      <if test="extended9 != null">
        #{extended9,jdbcType=VARCHAR},
      </if>
      <if test="extended10 != null">
        #{extended10,jdbcType=VARCHAR},
      </if>
      <if test="extended11 != null">
        #{extended11,jdbcType=VARCHAR},
      </if>
      <if test="extended12 != null">
        #{extended12,jdbcType=VARCHAR},
      </if>
      <if test="extended13 != null">
        #{extended13,jdbcType=VARCHAR},
      </if>
      <if test="extended14 != null">
        #{extended14,jdbcType=VARCHAR},
      </if>
      <if test="extended15 != null">
        #{extended15,jdbcType=VARCHAR},
      </if>
      <if test="extended16 != null">
        #{extended16,jdbcType=VARCHAR},
      </if>
      <if test="extended17 != null">
        #{extended17,jdbcType=VARCHAR},
      </if>
      <if test="extended18 != null">
        #{extended18,jdbcType=VARCHAR},
      </if>
      <if test="extended19 != null">
        #{extended19,jdbcType=VARCHAR},
      </if>
      <if test="extended20 != null">
        #{extended20,jdbcType=VARCHAR},
      </if>
      <if test="producturl != null">
        #{producturl,jdbcType=VARCHAR},
      </if>
    </trim> -->
    <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER" >
     SELECT LAST_INSERT_ID()
    </selectKey>
 </insert>
  
  <select id="selectId" resultType="java.lang.Integer">
   SELECT LAST_INSERT_ID()
  </select>  
  <select id="getProductsCount" resultType="long">
   select count(*) from products
  </select>
  
  <resultMap id="invatition" type="com.bean.Products">
        <id column="id" property="id"></id>
        <result column="pname" property="pname"></result>
        <result column="size" property="size"></result>
        <result column="productscolor" property="productscolor"></result>
        <result column="productstype1" property="productstype1"></result>
        <result column="productstype2" property="productstype2"></result>
        <result column="price" property="price"></result>
        <result column="pdescription" property="pdescription"></result>
        <result column="count" property="count"></result>
        <result column="tid" property="tid"></result>
        <result column="extended1" property="extended1"></result>
        <result column="extended2" property="extended2"></result>
        <result column="extended3" property="extended3"></result>
        <result column="extended4" property="extended4"></result>
        <result column="extended5" property="extended5"></result>
        <result column="extended6" property="extended6"></result>
        <result column="extended7" property="extended7"></result>
        <result column="extended8" property="extended8"></result>
        <result column="extended9" property="extended9"></result>
        <result column="extended10" property="extended10"></result>
        <result column="extended11" property="extended11"></result>
        <result column="extended12" property="extended12"></result>
        <result column="extended13" property="extended13"></result>
        <result column="extended14" property="extended14"></result>
        <result column="extended15" property="extended15"></result>
        <result column="extended16" property="extended16"></result>
        <result column="extended17" property="extended17"></result>
        <result column="extended18" property="extended18"></result>
        <result column="extended19" property="extended19"></result>
        <result column="extended20" property="extended20"></result>
        <result column="producturl" property="producturl"></result>
  </resultMap>
  <select id="fenye" parameterType="com.bean.Page" resultMap="invatition">
    select * from products limit #{startRow},#{pageSize}
  </select>
  
  <select id="searchTotalCount"  parameterType="com.bean.Page" resultType="java.lang.Integer">     <!-- //模糊查询描述sql -->
  select count(id) from products
  <where>
   <if test="queryCondition!=null">
     and  pdescription like count{'%',#{queryCondition},'%'}
   </if>
  </where>
  </select>
  
  <select id="getInvBycondtion" parameterType="com.bean.Page" resultMap="invatition">  <!--模糊查询用户名-->
   select * from products
    <where>
            <if test="queryCondition!=null">
                 pname like  CONCAT('%',#{queryCondition},'%')    
            </if>
        </where>
  </select>
  
  <delete id="deleteInvition" parameterType="java.lang.Integer">
        delete from products
        where
        id=#{id}
  </delete>
</mapper>